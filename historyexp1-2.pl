:-dynamic player1/2,player2/2,conductor1/2.
role_of(player1,player).
role_of(player2,player).
rule(player1,1:select(encounter(_8508,_8510,player1,_8514),toplevel,inform(player1,_8510,_8508,cooperate(_8514)),_8504),[]).
rule(player1,5:select(encounter(_8438,_8440,player2,_8444),tf2t,inform(player2,_8440,_8438,cooperate(_8444)),_8434),[conditionstf2tcooperate(_8444,_8434)]).
rule(player1,5:select(encounter(_8368,_8370,twinplayer2,_8374),tf2t,inform(twinplayer2,_8370,_8368,cooperate(_8374)),_8364),[conditionstf2tcooperate(_8374,_8364)]).
rule(player1,strategy(alwayscooperate),[]).
rule(player1,1:select(encounter(_8784,_8786,player1,_8790),toplevel,inform(player1,_8786,_8784,cooperate(_8790)),_8780),[]).
rule(player1,5:select(encounter(_8714,_8716,player2,_8720),tf2t,inform(player2,_8716,_8714,cooperate(_8720)),_8710),[conditionstf2tcooperate(_8720,_8710)]).
rule(player1,5:select(encounter(_8644,_8646,twinplayer2,_8650),tf2t,inform(twinplayer2,_8646,_8644,cooperate(_8650)),_8640),[conditionstf2tcooperate(_8650,_8640)]).
rule(player2,1:select(encounter(_9526,_9528,player2,_9532),toplevel,_9520,_9522),[conditionsforTitfortat(_9532,_9522),select(encounter(_9526,_9528,player2,_9532),titfortat,_9520,_9522)]).
rule(player2,4:select(encounter(_9444,_9446,player2,_9450),toplevel,_9438,_9440),[conditionsfortf2t(_9450,_9440),select(encounter(_9444,_9446,player2,_9450),tf2t,_9438,_9440)]).
rule(player2,7:select(encounter(_9362,_9364,player2,_9368),toplevel,_9356,_9358),[conditionsforalld(_9368,_9358),select(encounter(_9362,_9364,player2,_9368),alld,_9356,_9358)]).
rule(player2,2:select(encounter(_9292,_9294,player2,_9298),titfortat,inform(player2,_9294,_9292,cooperate(_9298)),_9288),[conditionstitfortatcooperate(_9298,_9288)]).
rule(player2,3:select(encounter(_9222,_9224,player2,_9228),titfortat,inform(player2,_9224,_9222,defect(_9228)),_9218),[conditionstitfortatdefect(_9228,_9218)]).
rule(player2,5:select(encounter(_9152,_9154,player2,_9158),tf2t,inform(player2,_9154,_9152,cooperate(_9158)),_9148),[conditionstf2tcooperate(_9158,_9148)]).
rule(player2,6:select(encounter(_9082,_9084,player2,_9088),tf2t,inform(player2,_9084,_9082,defect(_9088)),_9078),[conditionstf2tdefect(_9088,_9078)]).
rule(player2,8:select(encounter(_9024,_9026,player2,_9030),alld,inform(player2,_9026,_9024,defect(_9030)),_9020),[]).
rule(player2,5:select(encounter(_8954,_8956,twinplayer2,_8960),tf2t,inform(twinplayer2,_8956,_8954,cooperate(_8960)),_8950),[conditionstf2tcooperate(_8960,_8950)]).
rule(player2,strategy(mem2),[]).
rule(player2,1:select(encounter(_11508,_11510,player2,_11514),toplevel,_11502,_11504),[conditionsforTitfortat(_11514,_11504),select(encounter(_11508,_11510,player2,_11514),titfortat,_11502,_11504)]).
rule(player2,4:select(encounter(_11426,_11428,player2,_11432),toplevel,_11420,_11422),[conditionsfortf2t(_11432,_11422),select(encounter(_11426,_11428,player2,_11432),tf2t,_11420,_11422)]).
rule(player2,7:select(encounter(_11344,_11346,player2,_11350),toplevel,_11338,_11340),[conditionsforalld(_11350,_11340),select(encounter(_11344,_11346,player2,_11350),alld,_11338,_11340)]).
rule(player2,conditionsforTitfortat(_11292,_11294),[stranger(_11292,_11294)]).
rule(player2,conditionsforTitfortat(_11256,_11258),[acq(_11256,_11258)]).
rule(player2,conditionsforTitfortat(_11184,_11186),[goodacq(_11184,_11186),pattern(c,c,last,_11184,_11186),pattern(c,c,secondlast,_11184,_11186)]).
rule(player2,conditionsforTitfortat(_11148,_11150),[followuptitfortat(_11148,_11150)]).
rule(player2,2:select(encounter(_11094,_11096,player2,_11100),titfortat,inform(player2,_11096,_11094,cooperate(_11100)),_11090),[conditionstitfortatcooperate(_11100,_11090)]).
rule(player2,conditionstitfortatcooperate(_11042,_11044),[stranger(_11042,_11044)]).
rule(player2,conditionstitfortatcooperate(_10988,_10990),[acq(_10988,_10990),pattern(c,c,last,_10988,_10990)]).
rule(player2,conditionstitfortatcooperate(_10934,_10936),[acq(_10934,_10936),pattern(d,c,last,_10934,_10936)]).
rule(player2,3:select(encounter(_10880,_10882,player2,_10886),titfortat,inform(player2,_10882,_10880,defect(_10886)),_10876),[conditionstitfortatdefect(_10886,_10876)]).
rule(player2,conditionstitfortatdefect(_10810,_10812),[acq(_10810,_10812),pattern(_10834,d,last,_10810,_10812)]).
rule(player2,5:select(encounter(_10756,_10758,player2,_10762),tf2t,inform(player2,_10758,_10756,cooperate(_10762)),_10752),[conditionstf2tcooperate(_10762,_10752)]).
rule(player2,6:select(encounter(_10686,_10688,player2,_10692),tf2t,inform(player2,_10688,_10686,defect(_10692)),_10682),[conditionstf2tdefect(_10692,_10682)]).
rule(player2,conditionsfortf2t(_10616,_10618),[goodacq(_10616,_10618),pattern(c,d,last,_10616,_10618)]).
rule(player2,conditionsfortf2t(_10562,_10564),[goodacq(_10562,_10564),pattern(d,c,last,_10562,_10564)]).
rule(player2,conditionsfortf2t(_10514,_10516),[goodacq(_10514,_10516),followuptf2t(_10514,_10516)]).
rule(player2,conditionstf2tcooperate(_10472,_10474),[pattern(_10484,c,last,_10472,_10474)]).
rule(player2,conditionstf2tcooperate(_10430,_10432),[pattern(_10442,c,secondlast,_10430,_10432)]).
rule(player2,conditionstf2tdefect(_10370,_10372),[pattern(_10382,d,secondlast,_10370,_10372),pattern(_10400,d,last,_10370,_10372)]).
rule(player2,8:select(encounter(_10328,_10330,player2,_10334),alld,inform(player2,_10330,_10328,defect(_10334)),_10324),[]).
rule(player2,conditionsforalld(_10258,_10260),[goodacq(_10258,_10260),pattern(d,d,last,_10258,_10260)]).
rule(player2,conditionsforalld(_10186,_10188),[goodacq(_10186,_10188),pattern(c,c,last,_10186,_10188),pattern(c,d,secondlast,_10186,_10188)]).
rule(player2,conditionsforalld(_10114,_10116),[goodacq(_10114,_10116),pattern(c,c,last,_10114,_10116),pattern(d,c,secondlast,_10114,_10116)]).
rule(player2,conditionsforalld(_10042,_10044),[goodacq(_10042,_10044),pattern(c,c,last,_10042,_10044),pattern(d,d,secondlast,_10042,_10044)]).
rule(player2,pattern(_9968,_9970,last,_9974,_9976),[lastmove(_9974)=_9970^_9976,lastmove(mine)=_9968^_9976]).
rule(player2,pattern(_9894,_9896,secondlast,_9900,_9902),[secondlastmove(_9900)=_9896^_9902,secondlastmove(mine)=_9894^_9902]).
rule(player2,stranger(_9848,_9850),[interactedbefore(_9848)=no^_9850]).
rule(player2,acq(_9802,_9804),[move(_9802)=1^_9804]).
rule(player2,goodacq(_9740,_9742),[move(_9740)=_9762^_9742,external(greater(_9762,1))]).
rule(player2,5:select(encounter(_9686,_9688,twinplayer2,_9692),tf2t,inform(twinplayer2,_9688,_9686,cooperate(_9692)),_9682),[conditionstf2tcooperate(_9692,_9682)]).

happens_at(initially(status_of(sensorplayer1)=open),0).
happens_at(initially(status_of(actuatorplayer1)=on),0).
happens_at(initially(status_of(sensorplayer2)=open),0).
happens_at(initially(status_of(actuatorplayer2)=on),0).
happens_at(initially(status_of(sensortwinplayer1)=open),0).
happens_at(initially(status_of(actuatortwinplayer1)=on),0).
happens_at(initially(status_of(sensortwinplayer2)=open),0).
happens_at(initially(status_of(actuatortwinplayer2)=on),0).
happens_at(initially(conductor1:currentround=1),0).
happens_at(initially(conductor1:conduction=active),0).
happens_at(initially(status_of(sensorconductor1)=open),0).
happens_at(initially(status_of(actuatorconductor1)=on),0).
happens_at(initially(conductor1:players=[player1,player2]),0).
happens_at(initially(conductor1:twinplayers=[twinplayer1,twinplayer2]),0).
happens_at(initially(conductor1:currentfirstplayerindex=1),0).
happens_at(initially(conductor1:currentsecondplayerindex=1),0).
happens_at(initially(conductor1:currentaction=askFirst),0).
happens_at(initially(conductor1:fitness(player1)=0),0).
happens_at(initially(conductor1:fitness(player2)=0),0).

happens_at(perform(actuatorconductor1,performEnc(conductor1,[player1],encounter(encounter1,player1,twinplayer1))),1).
happens_at(in(player1,percept(perform(actuatorconductor1,performEnc(conductor1,[player1],encounter(encounter1,player1,twinplayer1))))),1).

happens_at(perform(actuatorconductor1,performEnc(conductor1,[twinplayer1],encounter(encounter1,player1,twinplayer1))),2).
happens_at(perform(actuatorplayer1,inform(player1,[conductor1],encounter1,cooperate(twinplayer1))),2).
happens_at(in(conductor1,percept(perform(actuatorplayer1,inform(player1,[conductor1],encounter1,cooperate(twinplayer1))))),2).
happens_at(in(twinplayer1,percept(perform(actuatorconductor1,performEnc(conductor1,[twinplayer1],encounter(encounter1,player1,twinplayer1))))),2).
happens_at(perform(actuatortwinplayer1,inform(twinplayer1,[conductor1],encounter1,cooperate(player1))),3).
happens_at(in(conductor1,percept(perform(actuatortwinplayer1,inform(twinplayer1,[conductor1],encounter1,cooperate(player1))))),3).
happens_at(perform(actuatorconductor1,resultEnc(conductor1,[player1,twinplayer1],result(encounter1,player1,cooperate,twinplayer1,cooperate))),4).
happens_at(in(player1,percept(perform(actuatorconductor1,resultEnc(conductor1,[player1,twinplayer1],result(encounter1,player1,cooperate,twinplayer1,cooperate))))),4).
happens_at(in(twinplayer1,percept(perform(actuatorconductor1,resultEnc(conductor1,[player1,twinplayer1],result(encounter1,player1,cooperate,twinplayer1,cooperate))))),4).
happens_at(perform(actuatorconductor1,performEnc(conductor1,[player1],encounter(encounter2,player1,player2))),5).
happens_at(in(player1,percept(perform(actuatorconductor1,performEnc(conductor1,[player1],encounter(encounter2,player1,player2))))),5).
happens_at(perform(actuatorconductor1,performEnc(conductor1,[player2],encounter(encounter2,player1,player2))),6).
happens_at(perform(actuatorplayer1,inform(player1,[conductor1],encounter2,cooperate(player2))),6).
happens_at(in(conductor1,percept(perform(actuatorplayer1,inform(player1,[conductor1],encounter2,cooperate(player2))))),6).
happens_at(in(player2,percept(perform(actuatorconductor1,performEnc(conductor1,[player2],encounter(encounter2,player1,player2))))),6).
happens_at(perform(actuatorplayer2,inform(player2,[conductor1],encounter2,cooperate(player1))),7).
happens_at(in(conductor1,percept(perform(actuatorplayer2,inform(player2,[conductor1],encounter2,cooperate(player1))))),7).
happens_at(perform(actuatorconductor1,resultEnc(conductor1,[player1,player2],result(encounter2,player1,cooperate,player2,cooperate))),8).
happens_at(in(player1,percept(perform(actuatorconductor1,resultEnc(conductor1,[player1,player2],result(encounter2,player1,cooperate,player2,cooperate))))),8).
happens_at(in(player2,percept(perform(actuatorconductor1,resultEnc(conductor1,[player1,player2],result(encounter2,player1,cooperate,player2,cooperate))))),8).
happens_at(perform(actuatorconductor1,performEnc(conductor1,[player2],encounter(encounter3,player2,twinplayer2))),9).
happens_at(in(player2,percept(perform(actuatorconductor1,performEnc(conductor1,[player2],encounter(encounter3,player2,twinplayer2))))),9).
happens_at(perform(actuatorconductor1,performEnc(conductor1,[twinplayer2],encounter(encounter3,player2,twinplayer2))),10).
happens_at(perform(actuatorplayer2,inform(player2,[conductor1],encounter3,cooperate(twinplayer2))),10).
happens_at(in(conductor1,percept(perform(actuatorplayer2,inform(player2,[conductor1],encounter3,cooperate(twinplayer2))))),10).
happens_at(in(twinplayer2,percept(perform(actuatorconductor1,performEnc(conductor1,[twinplayer2],encounter(encounter3,player2,twinplayer2))))),10).
happens_at(perform(actuatortwinplayer2,inform(twinplayer2,[conductor1],encounter3,cooperate(player2))),11).
happens_at(in(conductor1,percept(perform(actuatortwinplayer2,inform(twinplayer2,[conductor1],encounter3,cooperate(player2))))),11).
happens_at(perform(actuatorconductor1,resultEnc(conductor1,[player2,twinplayer2],result(encounter3,player2,cooperate,twinplayer2,cooperate))),12).
happens_at(in(player2,percept(perform(actuatorconductor1,resultEnc(conductor1,[player2,twinplayer2],result(encounter3,player2,cooperate,twinplayer2,cooperate))))),12).
happens_at(in(twinplayer2,percept(perform(actuatorconductor1,resultEnc(conductor1,[player2,twinplayer2],result(encounter3,player2,cooperate,twinplayer2,cooperate))))),12).
happens_at(perform(actuatorconductor1,performEnc(conductor1,[player1],encounter(encounter4,player1,twinplayer1))),13).
happens_at(in(player1,percept(perform(actuatorconductor1,performEnc(conductor1,[player1],encounter(encounter4,player1,twinplayer1))))),13).
happens_at(perform(actuatorconductor1,performEnc(conductor1,[twinplayer1],encounter(encounter4,player1,twinplayer1))),14).
happens_at(perform(actuatorplayer1,inform(player1,[conductor1],encounter4,cooperate(twinplayer1))),14).
happens_at(in(conductor1,percept(perform(actuatorplayer1,inform(player1,[conductor1],encounter4,cooperate(twinplayer1))))),14).
happens_at(in(twinplayer1,percept(perform(actuatorconductor1,performEnc(conductor1,[twinplayer1],encounter(encounter4,player1,twinplayer1))))),14).
happens_at(perform(actuatortwinplayer1,inform(twinplayer1,[conductor1],encounter4,cooperate(player1))),15).
happens_at(in(conductor1,percept(perform(actuatortwinplayer1,inform(twinplayer1,[conductor1],encounter4,cooperate(player1))))),15).
happens_at(perform(actuatorconductor1,resultEnc(conductor1,[player1,twinplayer1],result(encounter4,player1,cooperate,twinplayer1,cooperate))),16).
happens_at(in(player1,percept(perform(actuatorconductor1,resultEnc(conductor1,[player1,twinplayer1],result(encounter4,player1,cooperate,twinplayer1,cooperate))))),16).
happens_at(in(twinplayer1,percept(perform(actuatorconductor1,resultEnc(conductor1,[player1,twinplayer1],result(encounter4,player1,cooperate,twinplayer1,cooperate))))),16).
happens_at(perform(actuatorconductor1,performEnc(conductor1,[player1],encounter(encounter5,player1,player2))),17).
happens_at(in(player1,percept(perform(actuatorconductor1,performEnc(conductor1,[player1],encounter(encounter5,player1,player2))))),17).
happens_at(perform(actuatorconductor1,performEnc(conductor1,[player2],encounter(encounter5,player1,player2))),18).
happens_at(perform(actuatorplayer1,inform(player1,[conductor1],encounter5,cooperate(player2))),18).
happens_at(in(conductor1,percept(perform(actuatorplayer1,inform(player1,[conductor1],encounter5,cooperate(player2))))),18).
happens_at(in(player2,percept(perform(actuatorconductor1,performEnc(conductor1,[player2],encounter(encounter5,player1,player2))))),18).
happens_at(perform(actuatorplayer2,inform(player2,[conductor1],encounter5,cooperate(player1))),19).
happens_at(in(conductor1,percept(perform(actuatorplayer2,inform(player2,[conductor1],encounter5,cooperate(player1))))),19).
happens_at(perform(actuatorconductor1,resultEnc(conductor1,[player1,player2],result(encounter5,player1,cooperate,player2,cooperate))),20).
happens_at(in(player1,percept(perform(actuatorconductor1,resultEnc(conductor1,[player1,player2],result(encounter5,player1,cooperate,player2,cooperate))))),20).
happens_at(in(player2,percept(perform(actuatorconductor1,resultEnc(conductor1,[player1,player2],result(encounter5,player1,cooperate,player2,cooperate))))),20).
happens_at(perform(actuatorconductor1,performEnc(conductor1,[player2],encounter(encounter6,player2,twinplayer2))),21).
happens_at(in(player2,percept(perform(actuatorconductor1,performEnc(conductor1,[player2],encounter(encounter6,player2,twinplayer2))))),21).
happens_at(perform(actuatorconductor1,performEnc(conductor1,[twinplayer2],encounter(encounter6,player2,twinplayer2))),22).
happens_at(in(twinplayer2,percept(perform(actuatorconductor1,performEnc(conductor1,[twinplayer2],encounter(encounter6,player2,twinplayer2))))),22).

player1(conductor=conductor1,[1,infPlus]).
player1(receivers=[conductor1],[1,2]).
player1(encounternumber=encounter1,[1,2]).
player1(myopponent=twinplayer1,[1,2]).
player1(interactedbefore(twinplayer1)=yes,[4,infPlus]).
player1(lastmove(twinplayer1)=c,[4,infPlus]).
player1(lastmove(mine)=c,[4,infPlus]).
player1(interactedbefore(twinplayer1)=no,[1,4]).
player1(receivers=[conductor1],[5,6]).
player1(encounternumber=encounter2,[5,6]).
player1(myopponent=player2,[5,6]).
player1(interactedbefore(player2)=yes,[8,infPlus]).
player1(lastmove(player2)=c,[8,infPlus]).
player1(secondlastmove(twinplayer1)=c,[8,infPlus]).
player1(secondlastmove(mine)=c,[8,infPlus]).
player1(interactedbefore(player2)=no,[5,8]).
player1(receivers=[conductor1],[13,14]).
player1(encounternumber=encounter4,[13,14]).
player1(myopponent=twinplayer1,[13,14]).
player1(secondlastmove(player2)=c,[16,infPlus]).
player1(receivers=[conductor1],[17,18]).
player1(encounternumber=encounter5,[17,18]).
player1(myopponent=player2,[17,18]).
player1(needsecondtitfortat(twinplayer1)=yes,[16,20]).
player1(needsecondtitfortat(mine)=yes,[16,20]).
player2(conductor=conductor1,[6,infPlus]).
player2(receivers=[conductor1],[6,7]).
player2(encounternumber=encounter2,[6,7]).
player2(myopponent=player1,[6,7]).
player2(interactedbefore(player1)=yes,[8,infPlus]).
player2(lastmove(player1)=c,[8,infPlus]).
player2(lastmove(mine)=c,[8,infPlus]).
player2(move(player1)=1,[8,infPlus]).
player2(interactedbefore(player1)=no,[6,8]).
player2(receivers=[conductor1],[9,10]).
player2(encounternumber=encounter3,[9,10]).
player2(myopponent=twinplayer2,[9,10]).
player2(interactedbefore(twinplayer2)=yes,[12,infPlus]).
player2(lastmove(twinplayer2)=c,[12,infPlus]).
player2(secondlastmove(player1)=c,[12,infPlus]).
player2(secondlastmove(mine)=c,[12,infPlus]).
player2(interactedbefore(twinplayer2)=no,[9,12]).
player2(receivers=[conductor1],[18,19]).
player2(encounternumber=encounter5,[18,19]).
player2(myopponent=player1,[18,19]).
player2(needsecondtitfortat(player1)=yes,[20,infPlus]).
player2(needsecondtitfortat(mine)=yes,[20,infPlus]).
player2(secondlastmove(twinplayer2)=c,[20,infPlus]).
player2(encounternumber=encounter6,[21,infPlus]).
player2(myopponent=twinplayer2,[21,infPlus]).
player2(receivers=[conductor1],[21,infPlus]).

